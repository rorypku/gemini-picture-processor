## 工作流程
- 使用LLM处理图片
  - 使用openrouter api，模型名称为“google/gemini-2.5-flash-image-preview”，使用.env文件中的api_key
  - Clothing 文件夹中有多个子文件夹，对每个子文件夹调用一次LLM进行处理
    - 每次上传该子文件夹中所有图片，作为LLM的输入参数“image_url”
    - 参数“text”均设置为“生成一张模特拍摄图，要求模特穿戴图中的义务和物件，摆出各种姿势”
  - 参见参考材料中的方法，将返回值中的base64格式图片转化为.png格式，并保存在output文件夹中

## 参考材料

<openrouter api 使用方法>
from openai import OpenAI

client = OpenAI(
  base_url="https://openrouter.ai/api/v1",
  api_key="<OPENROUTER_API_KEY>",
)

completion = client.chat.completions.create(
  extra_headers={
    "HTTP-Referer": "<YOUR_SITE_URL>", # Optional. Site URL for rankings on openrouter.ai.
    "X-Title": "<YOUR_SITE_NAME>", # Optional. Site title for rankings on openrouter.ai.
  },
  extra_body={},
  model="google/gemini-2.5-flash-image-preview",
  messages=[
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "What is in this image?"
        },
        {
          "type": "image_url",
          "image_url": {
            "url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg"
          }
        }
      ]
    }
  ]
)
print(completion.choices[0].message.content)
</openrouter api 使用方法>

<返回图片处理方法>
The images are returned as base64-encoded data URLs in this format:
{
  "choices": [
    {
      "message": {
        "images": [
          {
            "type": "image_url",
            "image_url": {
              "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."
            }
          }
        ]
      }
    }
  ]
}

To save these images, you'll need to:

Extract the base64 data from the response
Decode the base64 string
Write the binary data to a file
Here's an example in Python:

import base64

# Extract base64 data from response
image_data = response["choices"][0]["message"]["images"][0]["image_url"]["url"]

# Remove the data URL prefix (data:image/png;base64,)
base64_data = image_data.split(",")[1]

# Decode base64 and save to file
with open("generated_image.png", "wb") as f:
    f.write(base64.b64decode(base64_data))

</返回图片处理方法>
